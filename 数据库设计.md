# 数据库设计

>基于mysql结构，其中tinyint == boolean

## 管理员数据库 tb_admin

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:--------:|:-----:|:---:|:---:|:--:|:--:|
| username    | varchar  | 255   | 是 | 否 |是 | 管理员名称 |
| password    | varchar  | 255   | 否 | 否 | 否 |管理员密码（md5）加密 |

## 用户数据库 tb_user

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:--------:|:-----:|:---:|:---:|:--:|:--:|
| phone | varchar | 255 | 否 | 否 | 是 | 手机号码 |
|   username   | varchar |  255  | 否  | 否 | 是 | 用户昵称 |
|  password     | varchar | 255 | 否 | 否 | 否 | md5加密密码 |
| id  |   int   |   10  | 是  |否 | 是 | 用户唯一ID |
| avatar | varchar  |   255  | 否  |是 | 否 | 用户头像 |
| create_time | dateTime | | 否 | 否 | 否 | 用户注册时间 |
| availble |  tinyint    |   1  | 否  |否 | 否 | 用于判断用户是否因为违规操作被封号,0违规，1正常 |

## 用户资料数据库 tb_user_info

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:--------:|:-----:|:---:|:---:|:--:|:--:|
| id  |   int   |   10  | 是  |否 | 是 | 用户唯一ID |
| weight | decimal | 10 | 否 | 否 | 否 | 用户体重 |
| height | decimal | 10 | 否 | 否 | 否 | 用户身高 |
| sex | tinyint | 1 | 否 | 否 | 否 | 1为男，0为女 |
| goal | int | 10 | 否 | 否 | 否 | 用户目标 |
| exp | int | 10 | 否 | 否 | 否 | 用户经验值 |
| level | int | 10 | 否 | 否 | 否 | 用户等级 |
| credit | int | 10 | 否 | 否 | 否 | 用户积分 |

## 用户长期数据数据库 tb_user_long_period_data

## 用户餐食记录数据库 tb_user_date_data

## 推文通知数据库 tb_article

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:--------:|:-----:|:---:|:---:|:--:|:--:|
| id | int | 10 | 是 | 否 | 是 | 文章唯一id |
| title | varchar | 255 | 否 | 否 | 否 | 文章标题 |
| author | varchar | 255 | 否 | 否 | 否 | 用户名或者作者名 |
| provenance | varchar | 255 | 否 | 是 | 否 | 转载文章需要注明出处 |
| content | text | | 否 | 是 | 否 | 文章具体内容 |
| publish_time | dateTime | | 否 | 否 | 否 | 文章发布时长 |
| type | int | 10 | 否 | 否 | 否 | 文章类型，包括公告，营养食谱，健康咨询等等 |

## 用户关注数据库 tb_friend_list

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:--------:|:-----:|:---:|:---:|:--:|:--:|
| focus_come | int | 10 | 联合主键 | 否 | 联合唯一 | 关注人id |
| focus_to | int | 10 | 联合主键 | 否 | 联合唯一 | 被关注人id |

## 朋友圈数据库 tb_friend_circle

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:--------:|:-----:|:---:|:---:|:--:|:--:|
| id | int | 10 | 是 | 否 | 是 | 文章唯一id |
| 